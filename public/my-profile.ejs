<link href="css/bootstrap-switch.css" rel="stylesheet">
<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="css/ospb.css">
<link rel="stylesheet" href="css/horizontal.css">
<script src="js/vendor/modernizr.js"></script>
<script src="js/plugins/plugins.js"></script>
<script src="js/sly.min.js"></script>
<script src="js/horizontal.js"></script>

<script src="js/sly.min.js"></script>
<script src="js/jasny-bootstrap.js"></script>
<link href="css/card-2.css" rel="stylesheet">
<!-- Custom CSS -->
<link href="css/sb-admin.css" rel="stylesheet">
<!-- Morris Charts CSS -->
<link href="css/plugins/morris.css" rel="stylesheet">
<link href="css/timeline.css" rel="stylesheet">
<link href="css/sb-admin-2.css" rel="stylesheet">
<link href="css/bootstrap-switch.css" rel="stylesheet">
<link href="css/timeline.css" rel="stylesheet">
<link href="css/plugins/morris.css" rel="stylesheet">
<link href="css/notification-counter.css" rel="stylesheet">
<link href="css/jasny-bootstrap.css" rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular.min.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


<script src="http://cdn.socket.io/socket.io-1.2.0.js"></script>

<script src="uploadNotes.js"></script>
<script src="myProfile.js"></script>

<style>
.vert-center-note {
	margin-top: 0.2%;
}
#uploadNotesModalLabel {
	color:#339999;
}

.border-bottom-text {
	border-top: 0px solid;
	border-left: 0px solid;
	border-right: 0px solid;
	border-bottom: 1px solid;
	border-color: rgba(0, 103, 23, 0.5);
}

.border-bottom-text:focus {   
	border-top: 0px solid;
	border-left: 0px solid;
	border-right: 0px solid;
	border-bottom: 1px solid;
	border-color: rgba(0, 103, 23, 1);
	box-shadow: 0 1px 1px rgba(229, 103, 23, 0.0) inset, 0 0 8px rgba(229, 103, 23, 0);
	outline: 0 none;
}

.panel-form-body {
	padding: 15px;
}

.panel-form-title {
	padding: 30px;
}

.btn-flat-note {
	background-color: #339999 !important;
	border-radius: 0px !important;
	color: white !important;
}
.btn-flat-note:hover {
	background-color: #339999 !important;
	border-radius: 0px !important;
	color: white !important;
	box-shadow: 0 1px 1px #349a9a inset, 0 0 8px #349a9a !important;
}
.btn-flat-note:active {
	background-color: #339999 !important;
	border-radius: 0px !important;
	color: white !important;
	box-shadow: 0 1px 1px #349a9a inset, 0 0 8px #349a9a !important;
}
.profile-pic {
	border: 0px solid;
	border-color: black;
	border-radius: 3px;
	width: 265px;
	height: 300px;
}
.fixed-top-nav {
	position: fixed !important;
	z-index: 10 !important;
}
.detail-large {
	font-size: 1.4em;
	padding-top: 0px;
	padding-bottom: 0px;
	margin-bottom: 0px;
	padding-left: 5px;
	margin-top: 0px;
	text-align: center;
	font-weight: 700;
}
.detail-small {
	font-size: 0.75em;
	padding-top: -5px !important;
	padding-bottom: 0px;
	margin-bottom: 0px;
	padding-left: 5px;
	margin-top: 0px;
	text-align: center;
}
.nopadding {
	padding: 0 !important;
	margin: 0 !important;
}
.detail {
	background: rgba(0,0,0,0.4);
	color: white;
	padding-left: 0px;
	padding-right: 0px;
	padding-top: 0px;
	margin-left: 0px;
	width: 53px;
	text-align: center;
}
.nav-link {
	background: #fff;
	color: #000;
	vertical-align: middle;
	padding-top: 10px;
	width: 265px;
	padding-bottom: 10px;
	font-size: 1.1em;
	border-radius: 2px;
	border: 1px solid #E7E7E7;
}
.nav-link:hover {
	background: #2e9ba0;
	color: #ffffff;
	vertical-align: middle;
	padding-top: 10px;
	padding-bottom: 10px;
	width: 265px;
	font-size: 1.1em;
	cursor: pointer;
	border-radius: 2px;
	border: 1px solid #2e9ba0;
}
.separator-small {
	width:auto;
	background-color: transparent;
	height:2px;
}
.separator-very-small {
	width:auto;
	background-color: transparent;
	height:1px;
}
.card-container {
	background-color:rgb(245, 244, 244);
	padding:25px;
	margin-top:15px;
	border:1px solid rgba(204, 204, 204, 0.32);
}
.disclaimer {
	color:grey !important;
}
.nav-button>a {
	background: #2e9ba0 !important;
	color: #ffffff !important;
	padding-top: 18px !important;
	padding-bottom: 18px !important;
	font-size: 1.0em;
}
.nav-button>a:hover {
	background: #ffffff !important;
	color: #2e9ba0 !important;
	font-size: 1.0em;
}
.nav-button-active {
	background: #ffffff !important;
	color: #2e9ba0 !important;
	font-size: 1.0em;
}
.navbar-schema {
	background: #2e9ba0 !important;
	color: #ffffff !important;
	border: 0px solid;
	border-radius: 0px !important;
}
.navbar-logo {
	width:auto;
	height:175%;
	position: absolute;
	left: 5%;
	top: 0%;
}
.nav-center {
	margin-top:2.8%;
	margin-left: 10%;
}
.nav-gly-search {
	left: 10% !important;
}
.block-white {
	background: #ffffff;
	color: #ffffff;
	vertical-align: middle;
	padding-top: 10px;
	padding-bottom: 10px;
	width: 100%;
	font-size: 1.1em;
}
input[type="text"] {
	color: black !important;
	background: white !important;
	line-height: auto !important;
}
.block-white {
	background: #ffffff;
	color: #ffffff;
	vertical-align: middle;
	padding-top: 10px;
	padding-bottom: 10px;
	width: 100%;
	font-size: 1.1em;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
	width: 20%;
	margin: auto;
}
.notification-item-text-header {
	padding: 2px;
	font-size: 0.9em;
	font-weight: bolder;
	background: transparent;
	margin-left: 0px !important;
	margin-right: 0px !important;
}
.notification-item-text-body {
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 2px !important;
	padding-right: 2px !important;
	margin-left: 10px !important;
	margin-right: 10px !important;
	font-size: 0.8em;
	background: transparent;	
	margin-bottom: 10px !important;
}
.navbar-profile-pic-img-circular{
	width: 28px;
	height: 28px;
	background-image: url('default-profile-pic.jpg');
	background-size: cover;
	display: block;
	opacity: 0.7;
	border-radius: 50%;
	-webkit-border-radius: 50%;
	-moz-border-radius: 50%;
	margin-top: -2%;
}
.navbar-profile-pic-img-circular:hover {
	width: 28px;
	height: 28px;
	opacity: 1.0;
	background-size: cover;
	display: block;
	border-radius: 50%;
	-webkit-border-radius: 50%;
	-moz-border-radius: 50%;
	margin-top: -2%;
}
.notification-item-image {

}
.notification-item {
	color: black;
	background: white;	
	cursor: pointer;
	padding-top: 10px !important;
}
.notification-item a:hover{
	text-decoration: none;
}
.notification-item:hover {
	color: black;
	background: #eeeeee;
}
#notification-li-dropdown.dropdown-menu {
	width: 420px !important;
	max-height: 500px !important;
	overflow-y:scroll;
	overflow-x:hidden;
}
.notifications-panel-head {
	text-align: center;
	font-weight: bolder;
	font-size: 1em;
	color: black;
	margin:5px !important;
}
.files-list-container {
	border:1px solid #BBBBBB;
	background-color:#DDDDDD;
}
.side-chevron {
	width:2%;
	padding:0;
	margin-top:15%;
	cursor:pointer;
}
.list-view {
	width:96%
}
.grey-icon {
	color:grey;
}
table { border-collapse: collapse; }
.percent {
	position: absolute; width: 300px; height: 17px; z-index: 1; text-align: center; font-size: 0.971428em; color: white;
}
.progress-bar {
	width: 300px; height: 20px;
	border-radius: 6px;
	border: 1px solid #CCC;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#2e9ba0), to(#2e9ba0));
	border-image: initial;
}
.uploaded {
	padding: 0;
	height: 17px;
	border-radius: 6px;
	background-image: -webkit-gradient(linear, left, right, from(#2e9ba0), to(#2e9ba0));
	border-image: initial;
}
.dropbox {
	width: 30em;
	height: 10em;
	border: 2px solid #DDD;
	border-radius: 8px;
	background-color: #FEFFEC;
	text-align: center;
	color: #BBB;
	font-size: 2em;
}
.dropbox span {
	margin-top: 0.9em;
	display: inline;
}
.dropbox.not-available {
	background-color: #F88;
}
.dropbox.over {
	background-color: #bfb;
}
.book-preview
{
	border-radius: 4px;
	border: 1px solid #EDEDED;
	padding: 5px;
	margin-bottom: 10px;
}
.book-preview:hover
{
	border-radius: 2px;
	border: 1px solid #EDEDED;
	padding: 5px;
	margin-bottom: 10px;
}
.nodivider-table
{
	border-collapse:collapse;
	border-color:transparent;
	border: 0px solid transparent;
}
::-webkit-scrollbar {  
	width: 12px;
	height: 8px;
	border-radius: 5px !important;
}  
::-webkit-scrollbar-track {  
	background-color: #C7C7C7;  
	border-left: 1px solid #ccc;
	border-radius: 5px;
	margin-left: 4px; 
}  
::-webkit-scrollbar-thumb {  
	background-color: #6E6E6E;
	border-radius: 5px !important; 
}  
::-webkit-scrollbar-thumb:hover {  
	background-color: #2e9ba0;
	border-radius: 5px !important;  
}  

.book-preview-card {
	background: #fff;
	padding-left:5px;
	padding-right: 5px;
	border-radius: 2px;
	-moz-box-shadow: 0 0 5px rgba(0, 0, 0, 0.12);
	-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, 0.12);
	box-shadow: 0 0 5px rgba(0, 0, 0, 0.12);
}
.book-preview-card:hover {
	background: #fff;
	border-radius: 2px;
	cursor: pointer;
	-moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
	-webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
}

.book-preview-a {
	text-decoration:none !important;
	color:#333 !important;
}

.book-preview-a:hover {
	text-decoration:none !important;
	color:#000 !important;
}
.book-preview-a:active {
	text-decoration:none !important;
	color:#000 !important;
}
#search-li-dropdown.dropdown-menu {
	max-height: 500px !important;
	overflow-y:scroll;
	overflow-x:hidden;
}
.notificationRead {
	background-color: #fff;
}
.notificationUnread {
	background-color: #dedede;
}

input[type='checkbox'] {
	width:17px;
	height:17px;
	background:white;
	border-radius:5px;
	border:2px solid #555;
}
.dummy-a {
	display: block;
	padding: 0px 0px !important;
	line-height: 1.42857143;
	white-space: nowrap;
}
body, html {
	height:100%;
	width:100%;
	min-height:100%;
	padding:0;
	margin:0;
}
.aToast-view-message {
	width:200px;
	height:20px;
	height:auto;
	position:absolute;
	left:50%;
	margin-left:-100px;
	bottom:10px;
	background-color: #383838;
	color: #F0F0F0;
	font-size: 20px;
	padding:10px;
	text-align:center;
	border-radius: 2px;
	-webkit-box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);
	-moz-box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);
	box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);
}
input[type='checkbox']:checked {
}
</style>



<html ng-app="" style="background:#E7E7E7;">
<div  ng-controller="myProfile" style="background:#E7E7E7;font-family:Helvetica;height:100%">
	<head>
		<link rel="stylesheet" href="css/my-profile.css">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">		
		<title>
			Noteshare
		</title>
	</head>

	<nav class="fixed-top-nav navbar navbar-default navbar-schema col-md-12">
		<div class="container-fluid">
			<a href="#"><img class="navbar-logo" src="logo.png"></img></a>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav row">
					<div class="col-lg-2"></div>
					<div class="col-lg-6 nopadding">
						<li>
							<div class="nav-center">
								<div class="input-group">
									<input ng-blur="hideSearchResultsDropdown()" ng-focus="getSearchResults(searchInput)" ng-change="getSearchResults(searchInput)" placeholder="Search for notes.." id="filter-by" class="form-control input dropdown" style="line-height:2;border-radius:2px;" ng-model="searchInput">
									<ul id="search-li-dropdown" class="dropdown-menu" style="width:100%" ng-mouseover="hoverSearchResult=true" ng-mouseleave="hoverSearchResult=false"> 
										<div ng-show="searchResultSpinner">
											<center>
												<img src="/spinner.gif" style="margin:10px"></img>
											</center>
										</div>
										<li ng-repeat="searchResult in searchResults">
											<div class="notification-item" ng-click="searchResponse(searchResult)">
												<div class="notification-item-text-body"  style="height:54px;">
													<div class="row" style="margin:3px">
														<img ng-src="{{searchResult.imglink}}" style="float:left;width:14%;height:65px;margin-left:-2px;margin-right:10px;border-radius:2px;border:1px solid #777;margin-top:-6px;margin-bottom:-3px;">
													</img>
													<big>{{truncateString(searchResult.text,45)}}</big>
												</div>
											</div>
											<div style="background:#aaaaaa">
												<div class="row separator-very-small">
												</div>
											</div>
										</div>
									</li>
								</ul></input>
								<span class="input-group-btn">
									<button class="btn btn-default" style="background:#555;color:#fff;border:0px;border-radius:2px;" type="button">&nbsp&nbspSearch&nbsp
									</button>
								</span>
							</div>
						</div>
					</li>
				</div>
				<div class="col-md-2">
				</div>
				<li id="notification-li" class="nav-button notification-container dropdown">
					<a href="javascript:void(0)" ng-click="updateNotification()" class="dropdown-toggle" id="notificationDropdown" data-toggle="dropdown">&nbsp<i class="fa fa-globe fa-2x"><span id="notificationCount" ng-show="notificationCount!=0" class="notification-counter">{{notificationCount}}</span></i>&nbsp</a>
					<ul id="notification-li-dropdown" class="dropdown-menu pull-right" style="border: 1px solid #000"> 
						<li class="notifications-panel-head" ng-show="notificationsDownloads.length==0 && notificationsUploads.length==0">
							No new notifications							
						</li>
						<li class="notifications-panel-head" ng-show="notificationsDownloads.length!=0">
							Downloads							
					</li><!-- 
					<div style="color:black;margin-top:10px" ng-show="notificationsDownloads.length==0">
						<center>No new Downloads</center>
					</div> -->
					<div style="background:#aaaaaa" ng-show="notificationsDownloads.length!=0">
						<div class="row separator-very-small">
						</div>
					</div>
					<li ng-repeat="notification in notificationsDownloads">
						<div class="notification-item" ng-class="{'notificationUnread':notification.unread, 'notificationRead':!notification.unread}" ng-click="notificationMarkAsRead(notification.purpose, $index, notification.link)">
							<div class="notification-item-text-body"  style="height:54px;">
								<div class="row" style="margin:2px">
									<img src="prev-0.jpg" style="float:left;width:14%;height:65px;margin-left:-2px;margin-right:5px;border-radius:2px;border:1px solid #777;margin-top:-6px;margin-bottom:-2px;">
								</img>
								<div style="width:100%"><big>{{truncateString(notification.text,45)}}</big></div>
								<!-- <div class="row pull-right" style="margin-top:4%">
									<a class="book-preview-a" ng-href="{'/view?id=' + notification.because}">
										<button type="button" class="btn btn-default"><i class="fa fa-external-link fa-1x"></i></button>
									</a>
								</div> -->
							</div>
						</div>
						<div style="background:#aaaaaa">
							<div class="row separator-very-small">
							</div>
						</div>
					</div>
				</li>

				<li class="notifications-panel-head" ng-show="notificationsUploads.length!=0">
					Uploads
				</li>
				<div style="background:#aaaaaa" ng-show="notificationsUploads.length!=0">
					<div class="row separator-very-small">
					</div>
				</div>
				<li ng-repeat="notification in notificationsUploads">
					<div class="notification-item" ng-class="{'notificationUnread':notification.unread, 'notificationRead':!notification.unread}" ng-click="notificationMarkAsRead(notification.purpose, $index, notification.link)">
						<div class="notification-item-text-body"  style="height:54px;">
							<div class="row" style="margin:3px">
								<img src="prev-0.jpg" style="float:left;width:14%;height:65px;margin-left:-2px;margin-right:10px;border-radius:2px;border:1px solid #777;margin-top:-6px;margin-bottom:-3px;">
							</img>
							<div style="width:100%"><big>{{truncateString(notification.text,45)}}</big></div>
							<!-- <div class="row pull-right" style="margin-top:4%">
								<a class="book-preview-a" ng-href="{'/download/view?id=' + notification.uploadid}">
									<button type="button" ng-click="notificationMarkAsRead(1,$index)" class="btn btn-default"><i class="fa fa-download fa-1x"></i></button>
								</a>
								<a class="book-preview-a" ng-href="{'/view?id=' + notification.because}">
									<button type="button" class="btn btn-default"><i class="fa fa-external-link fa-1x"></i></button>
								</a>
							</div> -->
						</div>
					</div>
					<div style="background:#aaaaaa">
						<div class="row separator-very-small">
						</div>
					</div>
				</div>
			</li>

		</ul>
	</li><!-- 
	<div class="col-md-2 row" style="margin-top:1.4%;"> -->
		<li class="dropdown" style="margin-top:0.3%">
			<a href="#" class="dropdown-toggle " id="dropdown" data-toggle="dropdown"><div class="navbar-profile-pic-img-circular"></div></a>
			<ul class="dropdown-menu"> 
				<li>
					<a href="/editprofile" ng-click="settings()"><i class="fa fa-fw fa-cog"></i> Edit Profile</a>
				</li>         
				<li>
					<a href="/logout" ng-click="setIsLoggedInToFalse()"><i class="fa fa-fw fa-power-off"></i> Log Out</a>
				</li>
				<li>
					<a href="/changepass" ng-click="setIsLoggedInToFalse()">Change Password</a>
				</li>
			</ul>
		</li>
		<li class="badge" style="background:transparent;border-radius:3px;padding:8px;margin-top:1.4%;margin-left:-1.4%;">			
			{{truncateString(user.firstname, 10)}}
		</li>
	</ul>
</div>
</div>
</nav>

<div class="container-fluid">
	<div class="row" style="height:13%">
	</div>
	<div class="col-md-3">
		<div class="row">
			<div class="col-lg-10 nopadding">
				<img src="default-profile-pic.jpg" class="profile-pic"></img>
			</div>
		</div>
		<div style="position:relative;top:-43px;bottom:-43px;z-index:4;">
			<div class="row">
				<div class="col-lg-2 detail nopadding">
					<div class="detail detail-large">{{myUploadsCount}}</div>
					<div class="detail detail-small">Uploads</div>
				</div>
				<div class="col-lg-2 detail nopadding">
					<div class="detail detail-large">{{myDownloadsCount}}</div>
					<div class="detail detail-small">Downloads</div>
				</div>
				<div class="col-lg-2 detail nopadding">
					<div class="detail detail-large">{{user.credits}}</div>
					<div class="detail detail-small">Credits</div>
				</div>
				<div class="col-lg-2 detail nopadding">
					<div class="detail detail-large">{{followersCount}}</div>
					<div class="detail detail-small">Followers</div>
				</div>
				<div class="col-lg-2 detail nopadding">
					<center>
						<div class="detail detail-large">{{followingCount}}</div>
						<div class="detail detail-small">Following</div>
					</center>
				</div>
			</div>
			<div class="row separator-small"></div>
			<div class="row separator-small"></div>
			<div class="row">
				<div class="col-lg-10 nopadding" ng-click="visDashboard=true;visMyUploads=false;visSmartSearch=false;visMyDownloads=false;">
					<div class="nav-link">
						<i style="margin-left:15px;" class="fa fa-dashboard">
						</i>
						&nbsp&nbsp&nbsp&nbsp&nbsp&nbspDashboard
					</div>
				</div>
			</div>
			<div class="row separator-small"></div>
			<div class="row">
				<div class="col-lg-10 nopadding" ng-click="visDashboard=false;visMyUploads=true;visSmartSearch=false;visMyDownloads=false;getMyUploads();getArrGrid(myUploads,5,1)">
					<div class="nav-link">
						<i style="margin-left:15px;" class="fa fa-cloud-upload">
						</i>
						&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMy Uploads
					</div>
				</div>
			</div>
			<div class="row separator-small"></div>
			<div class="row">
				<div class="col-lg-10 nopadding" ng-click="visDashboard=false;visMyUploads=false;visMyDownloads=true;visSmartSearch=false;getMyDownloads();getArrGrid(myDownloads.downloads,5,2)">
					<div class="nav-link">
						<i style="margin-left:15px;" class="fa fa-download">
						</i>
						&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMy Downloads
					</div>
				</div>
			</div>
			<div class="row separator-small"></div>
			<div class="row">
				<div class="col-lg-10 nopadding" ng-click="visDashboard=false;visMyUploads=false;visMyDownloads=false;visSmartSearch=true;">
					<div class="nav-link">
						<i style="margin-left:15px;" class="fa fa-search">
						</i>
						&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSmart search
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-9 jumbotron" style="border:1px solid rgba(204, 204, 204, 0.32);padding:0px;margin-left:-35px" ng-if="visMyUploads;">
		<div class="container-fluid card-container" style="margin-top:0px" >
			<div class="col-md-4" style="color:#2e9ba0;padding-left:0px;padding-bottom:10px;"><big><big>My Uploads</big></big></div>
			<table class="table nodivider-table">
				<tbody>
					<tr ng-repeat="rowUploadElements in gridMyUploads track by $index">
						<td ng-repeat="uploadElement in rowUploadElements track by $index">
							<div class="book-preview-card">
								<a class="book-preview-a" ng-click="getNotificationModalData('/upload/getupload?id=' + uploadElement.id)">
									<center>
										<img class="book-preview" ng-src="{{uploadElement.path}}" width="120" height="140" style="margin-top:15px">
									</img>
									<div class="row">
										<div style="color:#000;opacity:0.87;">
											<big>{{truncateString(uploadElement.name,10)}}</big>
										</div>
										<!-- 
										{{uploadElement.rating + "/5.0"}} -->
										<div style="color:#555;padding-bottom:4px">
											<small>
												{{uploadElement.views + " views"}}
											</small>
										</div>
									</div>
								</center>
							</a>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

<div class="col-md-9 jumbotron" style="border:1px solid rgba(204, 204, 204, 0.32);padding:0px;margin-left:-35px" ng-if="visSmartSearch;">
	<div class="container-fluid card-container" style="margin-top:0px" >
		<div class="col-md-4" style="color:#2e9ba0;padding-left:0px;padding-bottom:10px;"><big><big>Smart Search</big></big></div>
		<br>

		<!-- department, college, semester, year-->
		<div class="row" style="margin-top:2%;">
			<div class="col-md-1">
			</div>
			<div class="col-md-2" style="margin-top:0.8%;">
				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="boolSmartSearchByCollege"> <p><small><small>&nbsp&nbspCollege</small></small></p>
					</label>
				</div>
			</div>
			<div class="col-md-8" ng-show="boolSmartSearchByCollege" style="margin-top:1.42%;">
				<input type="text" placeholder="College" ng-model="smartCollege" class="form-control input"/>
			</div>
		</div>
		<div class="row" style="margin-top:2%;">
			<div class="col-md-1">
			</div>
			<div class="col-md-2" style="margin-top:0.8%;">
				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="boolSmartSearchByDepartment"> <p><small><small>&nbsp&nbspDepartment</small></small></p>
					</label>
				</div>
			</div>
			<div class="col-md-8" ng-show="boolSmartSearchByDepartment" style="margin-top:1.42%;">
				<input type="text" placeholder="Department" ng-model="smartDepartment" class="form-control input"/>
			</div>
		</div>
		<div class="row" style="margin-top:2%;">
			<div class="col-md-1">
			</div>
			<div class="col-md-2" style="margin-top:0.8%;">
				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="boolSmartSearchByYear"> <p><small><small>&nbsp&nbspYear</small></small></p>
					</label>
				</div>
			</div>
			<div class="col-md-8" ng-show="boolSmartSearchByYear" style="margin-top:1.42%;">
				<input type="text" placeholder="Year" ng-model="smartYear" class="form-control input"/>
			</div>
		</div>
		<div class="row" style="margin-top:2%;">
			<div class="col-md-1">
			</div>
			<div class="col-md-2" style="margin-top:0.8%;">
				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="boolSmartSearchBySemester"> <p><small><small>&nbsp&nbspSemester</small></small></p>
					</label>
				</div>
			</div>
			<div class="col-md-8" ng-show="boolSmartSearchBySemester" style="margin-top:1.42%;">
				<input type="text" placeholder="Semester" ng-model="smartSemester" class="form-control input"/>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-10">
			</div>
			<div class="col-md-1">
				<button class="btn btn-default btn-flat-note" ng-click="getSmartSearchResults(smartCollege, smartDepartment, smartYear, smartSemester, smartSearchLimit, smartSearchOffset, true)" type="button">Search
				</button>
			</div>
		</div>

		<div ng-show="smartSearchResults.length!=0">
			<br>
			<h3>Search results</h3>
			<br>
		</div>

		<table class="table nodivider-table">
			<tbody>
				<tr ng-repeat="rowSearchResultsElements in gridSmartSearchResults track by $index">
					<td ng-repeat="searchResultElement in rowSearchResultsElements track by $index">
						<div class="book-preview-card">							
							<a class="book-preview-a" ng-click="getNotificationModalData('/upload/getupload?id=' + searchResultElement.id)">
								<center>
									<img class="book-preview" ng-src="{{searchResultElement.path}}" width="120" height="140" style="margin-top:15px"></img>
									<div class="row">
										<div style="color:#000;opacity:0.87;">
											<big>{{truncateString(searchResultElement.name,10)}}</big>
										</div><div style="color:#555;padding-bottom:4px">
										<small>
											{{searchResultElement.views + " views"}}
										</small>
									</div>
									<!-- {{searchResultElement.rating + "/5.0"}} -->
								</div>
							</center>
						</a>
					</div>

				</td>
			</tr>
		</tbody>
	</table>

	<div ng-show="smartSearchResultSpinner">
		<center>
			<img src="/spinner.gif" style="margin:10px"></img>
		</center>
	</div>

	<div class="row" ng-show="!noMoreSmartSearchResults && smartSearchResults.length!=0">
		<center><h3>No more search results</h3></center>
		<br>
	</div>

	<div class="row" ng-show="noMoreSmartSearchResults">
		<div class="col-md-10">
		</div>
		<div class="col-md-1">
			<button class="btn btn-default" ng-click="getSmartSearchResults(smartCollege, smartDepartment, smartYear, smartSemester, smartSearchLimit, smartSearchOffset + smartSearchLimit, false)" type="button">More >>
			</button>
		</div>
	</div>

</div>
</div>

<div class="col-md-9 jumbotron" style="border:1px solid rgba(204, 204, 204, 0.32);padding:0px;margin-left:-35px" ng-if="visMyDownloads;">
	<div class="container-fluid card-container" style="margin-top:0px;" >
		<div class="col-md-4" style="color:#2e9ba0;padding-left:0px;padding-bottom:10px;"><big><big>My downloads</big></big></div>
		<table class="table nodivider-table">
			<tbody>
				<tr ng-repeat="rowDownloadElements in gridMyDownloads track by $index">
					<td ng-repeat="downloadElement in rowDownloadElements track by $index">

						<div class="book-preview-card">

							<a class="book-preview-a" ng-click="getNotificationModalData('/upload/getupload?id=' + downloadElement.file.id)">
								<center>
									<img class="book-preview" ng-src="{{downloadElement.file.path}}" width="120" height="140" style="margin-top:15px">
								</img>
								<div class="row">
									<div style="color:#000;opacity:0.87;">
										<big>{{truncateString(downloadElement.file.name,10)}}</big>
									</div>
									<!-- {{downloadElement.file.rating + "/5.0"}} -->
									<div style="color:#555;padding-bottom:4px">
										<small>
											{{downloadElement.file.views + " views"}}
										</small>
									</div>
								</div>
							</center>
						</a>
					</div>
				</td>
			</tr>
		</tbody>
	</table>    
</div>
</div>

<div class="col-md-9 jumbotron" style="border:1px solid rgba(204, 204, 204, 0.32);padding:15px;padding-top: 3px;margin-left:-35px" ng-show="visDashboard">
	<!-- <big>
		<big>
			<span style="color:#000">Welcome {{ user.firstname +" "+user.lastname + " "}},</span>
		</big>
	</big> -->
	<div class="container-fluid card-container" ng-show="!visUploadProgress">
		<big><big>Upload Notes & Earn Credits</big></big>
		<br>
		<br>
		<a href="javascript:void(0)" data-toggle="modal" ng-click="loadImage()" data-target="#uploadNotes">
			<button type="button" class="btn btn-default btn-flat-note">Upload Notes</button>
		</a>
	</div>
	<!-- TODO replace above container with below container when uploading -->
	<div class="container-fluid card-container" ng-show="visUploadProgress">
		<div class="pull-right">
			<a href="javascript:void(0)" class="close" ng-click="visUploadProgress=!visUploadProgress" style="float: none">
				&times;
			</a>
		</div>
		<h3>Uploading your file...</h3><br>
				<!-- <div class="container-fluid">
					<div ng-repeat="file in files track by $index">
						<div class="row">
							<div class="col-md-3">
								<img src="default-profile-pic.jpg" alt="File" style="width:25px;height:25px;margin-right:30px"></img>
								{{file.fileName}}
							</div>
							<div class="col-md-6 progress">
								<div class="row progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100"
								aria-valuemin="0" aria-valuemax="100">
								70%
							</div>
							<div class="col-md-3"></div>
						</div>
					</div>
				</div> -->
				<!-- <center>
					<h3>Drag and Drop Files</h3>
					<h3 style="color:grey"><b>or</b></h3>
					<div class="fileinput fileinput-new" id="browseFileInput" data-provides="fileinput">
						<span class="btn btn-default btn-flat-note btn-file cursor-pointer">
							<span class="fileinput-new">
								<span class="glyphicon glyphicon-search">
								</span>
								&nbsp Browse
							</span>
							<span class="fileinput-exists">
								Change
							</span>
							<input type="file" name="...">
						</span>&nbsp&nbsp&nbsp
						<span class="fileinput-filename"></span>&nbsp&nbsp&nbsp
						<a href="javascript:void(0)" id="removeSelectedFile" class="close fileinput-exists" data-dismiss="fileinput" style="float: none">&times;</a>&nbsp&nbsp&nbsp
						<a href="javascript:void(0)" style="color:black;" class="fileinput-exists" ng-click="startUpload()"><i class="fa fa-upload fa-1x"></i></a>
					</div>
				</center> -->
				<div>
					

					<div id="dropbox" class="dropbox" ng-class="dropClass">
						<br><br>
						<span>
							{{dropText}}
						</span>
						<br><br>
						<center>
							<a href="javascript:void(0)" ng-click="fileInputClick()">
								<button type="button" class="btn btn-default btn-flat-note"><span class="glyphicon glyphicon-search">
								</span>
								&nbsp Browse</button>
							</a>
							<input type="file" style="visibility:hidden" ng-model-instant id="fileToUpload" multiple onchange="angular.element(this).scope().setFiles(this)" />
						</center>
					</div>
					<br>
					<div>
						<center>
							<div ng-show="files.length">
								<div ng-repeat="file in files.slice(0)">
									<span>{{file.webkitRelativePath || file.name}}</span>
									(<span ng-switch="file.size > 1024*1024">
									<span ng-switch-when="true">{{file.size / 1024 / 1024 | number:2}} MB</span>
									<span ng-switch-default>{{file.size / 1024 | number:2}} kB</span>
								</span>)
							</div>
							<br>
							<div ng-show="progressVisible">
								<div class="row">
									<div class="col-md-4"></div>
									<div class="col-md-4">
										<div class="percent">{{progress}}%</div>
										<div class="progress-bar">
											<div class="uploaded" ng-style="{'width': progress+'%'}"></div>
										</div>
									</div>
								</div>
							</div>
							<br>
							<button type="button" class="btn btn-default btn-flat-note" ng-click="uploadFile()">Upload</button>
							
						</div>
					</center>
				</div>
			</div>
			<p>
				<h3 class="disclaimer"><b>Disclaimer</b></h3>

				<big class="disclaimer">The file you are uploading is now of complete rights for NoteShare Ltd.,
					and you are accepting that your file will be downloaded for free by any user.</big>
				</p>
			</div>
			<div class="container-fluid card-container">
				<!--<p style="font-size:25px;color:#339999">Recent Downloads</p>-->
				<div class="col-md-4" style="color:#2e9ba0;padding-left:0px;padding-bottom:10px;"><big><big>Recent Downloads</big></ig></div>
				<div class="col-md-12">
					<div style="overflow-x:scroll;overflow-y:hidden;">
						<table class="table nodivider-table">
							<tbody>
								<td ng-repeat="downloadElement in myRecentDownloads track by $index">
									<div class="book-preview-card">
										<a class="book-preview-a" ng-click="getNotificationModalData('/upload/getupload?id=' + downloadElement.file.id)">
											<center>
												<img class="book-preview" ng-src="{{downloadElement.file.path}}" width="120" height="140" style="margin-top:15px">
											</img>
											<div class="row">
												<div style="color:#000;opacity:0.87;">
													{{truncateString(downloadElement.file.name,10)}}
												</div>
												<!-- {{downloadElement.file.rating + "/5.0"}} -->
												<div style="color:#555;padding-bottom:4px">
													<small>
														{{downloadElement.file.views + " views"}}
													</small>
												</div>
											</div>
										</center>
									</a>
								</div>
							</td>
						</tbody>
					</table>
				</div>
			</div>

		</div>
		<div class="container-fluid card-container">
			<!--<p style="font-size:25px;color:#339999">Recent Uploads</p>-->
			<div class="col-md-4" style="color:#2e9ba0;padding-left:0px;padding-bottom:10px;"><big>Recent Uploads</big></div>
			<div class="col-md-12">
					<!-- <div id="prevUpload" ng-click="prevUpload()" class="col-md-1 side-chevron">
						<i class="fa fa-chevron-left fa-3x grey-icon prev"></i>
					</div> -->
					<!--<h2>Centered <small>- activated or middle item is centered when possible</small></h2>-->
					<!--<div class="scrollbar">
						<div class="handle" style="transform: translateZ(0px) translateX(0px); width: 190px;">
							<div class="mousearea"></div>
						</div>
					</div>-->
					<!-- <div class="controls center" style="visibility:hidden;opacity:0;">
						<button id="prevUploadHidden" class="btn prev"><i class="icon-chevron-left"></i> prev</button>
					</div> -->
					<div style="overflow-x:scroll;overflow-y:hidden;">
						<table class="table nodivider-table">
							<tbody>
								<td ng-repeat="uploadElement in myRecentUploads track by $index">
									<div class="book-preview-card">
										<a class="book-preview-a" ng-click="getNotificationModalData('/upload/getupload?id=' + uploadElement.id)">
											<center>
												<img class="book-preview" ng-src="{{uploadElement.path}}" width="120" height="140" style="margin-top:15px">
											</img>
											<div class="row">
												<div style="color:#000;opacity:0.87;">
													{{truncateString(uploadElement.name,10)}}
												</div>
										<!-- 
										{{uploadElement.rating + "/5.0"}} -->
										<div style="color:#555;padding-bottom:4px">
											<small>
												{{uploadElement.views + " views"}}
											</small>
										</div>
									</div>
								</center>
							</a>
						</div>
					</td>
				</tbody>
			</table>
		</div>
					<!-- 
					<div class="controls center" style="visibility:hidden;opacity:0;">
						<button id="nextUploadHidden" class="btn next">next <i class="icon-chevron-right"></i></button>
					</div> -->
				</div>
				<!-- <div id="nextUpload" ng-click="nextUpload()" class="col-md-1 side-chevron">
					<i class="fa fa-chevron-right fa-3x grey-icon next"></i>
				</div> -->
			</div>
		</div>
	</div>

	<div class="modal fade" id="uploadNotificationModal" tabindex="-1" role="dialog" aria-labelledby="uploadNotificationModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">
						<center>
							File : {{notificationModalData.file.name}} uploaded by 
							<a style="color:#2e9ba0 !important;" class="book-preview-a" ng-href="{{'/profile/view?id=' + notificationModalData.file.userid}}">
								{{notificationModalData.user.firstname + " " + notificationModalData.user.lastname}}
							</a>
						</center>
					</h4>
				</div>
				<div class="modal-body">
					<div class="table-responsive">
						<table class="table table-bordered table-hover table-striped">
							<tbody>
								<tr>
									<th>Department</th>
									<td>{{notificationModalData.file.department || "N/A"}}</td>
								</tr>
								<tr>
									<th>Semester</th>
									<td>{{notificationModalData.file.semester || "N/A"}}</td>
								</tr>
								<tr>
									<th>Year</th>
									<td>{{notificationModalData.file.year || "N/A"}}</td>
								</tr>
								<tr>
									<th>Upload date</th>
									<td>{{getTimeInFormat(notificationModalData.file.dateUploaded) || "N/A"}}</td>
								</tr>
								<tr>
									<th>Views</th>
									<td>{{notificationModalData.file.views}}</td>
								</tr>
								<!-- <tr>
									<th>Ratings</th>
									<td>
										<div class="row">
											<div class="col-md-1" ng-repeat="tag in getArray(notificationModalData.file.rating) track by $index">
												<i class="fa fa-star"></i>
											</div>
										</div>
										<div ng-show="!notificationModalData.file.rating">
											-NIL-
										</div>
									</td>
								</tr>
								<tr> -->
									<th>Tags</th>
									<td>
										<div ng-repeat="tag in notificationModalData.tags track by $index">
											<center>
												<span class="badge">
													{{"      " + tag.name + "      "}}
												</span>
												<br>
											</center>
										</div>
										<div ng-show="notificationModalData.tags.length==0 || !notificationModalData.tags">
											-NIL-
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="modal-footer">
					<a ng-href="{{'/download/view?upload_id=' + notificationModalData.file.id + '&view=1'}}" target="_blank">
						<button type="button" class="btn btn-default">
							Preview
						</button>
					</a>
					<a ng-href="{{'/download/view?upload_id=' + notificationModalData.file.id}}" target="_blank">
						<button type="button" class="btn btn-default">
							Download
						</button>
					</a>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<div class="modal fade" id="modalResponse" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">
						<center>
							Noteshare
						</center></h4>
					</div>
					<div class="modal-body">
						<center>{{responseModal.text}}</center>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Okay</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="uploadNotes" tabindex="-1" role="dialog" aria-labelledby="uploadNotesModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h3 class="modal-title panel-form-title" id="uploadNotesModalLabel">Fill in details to share your Notes</h3>
					</div>
					<div class="modal-body">
						<div class="panel panel-form-body">
							<div class="panel-body">
								<br>

								<form name="uploadDetailsForm" novalidate>

									<div class="row">
										<div class="col-md-2 vert-center-note"><small>File name</small></div>
										<div class="col-md-8"><input type="text" class="border-bottom-text col-lg-11" ng-model="filename" placeholder="Filename" name="filename" required></div>
										<small><span style="color:red" ng-show="uploadDetailsForm.filename.$dirty && uploadDetailsForm.filename.$error.required">Filename is required.</span></small>
									</div><br>

									<div class="row">
										<div class="col-md-2 vert-center-note"><small>Semester</small></div>
										<div class="col-md-3"><input type="text" class="border-bottom-text col-lg-11" ng-model="semester" placeholder="Semester" name="semester"></div>
										<div class="col-md-1 vert-center-note" ><small>Year</small></div>
										<div class="col-md-4"><input type="text" class="border-bottom-text col-lg-10" ng-model="year" placeholder="Year" name="year"></div>
									</div><br>

									<div class="row">
										<div class="col-md-2 vert-center-note" ><small>Department</small></div>
										<div class="col-md-8"><input type="text" class="border-bottom-text col-lg-11" ng-model="department" placeholder="Department" name="department" required></div>
										<small><span style="color:red" ng-show="uploadDetailsForm.department.$dirty && uploadDetailsForm.department.$error.required">Department is required.</span></small>
									</div><br>

									<div class="row">
										<div class="col-md-2 vert-center-note" ><small>Source</small></div>
										<div class="col-md-8"><input type="text" class="border-bottom-text col-lg-11" ng-model="source" placeholder="Source" name="source"></div>
									</div><br>

									<div class="row">
										<div class="col-md-2 vert-center-note" ><small>Description</small></div>
										<div class="col-md-8"><input type="text" class="border-bottom-text col-lg-11" ng-model="description" placeholder="Description" name="description"></div>
									</div><br>

									<div class="row">
										<div class="col-md-2 vert-center-note" ><small>Tags</small></div>
										<div class="col-md-8"><input type="text" class="border-bottom-text col-lg-11" ng-model="tags" placeholder="Tags separated with a space (max. 5)" name="tags" required></div>
										<small><span style="color:red" ng-show="uploadDetailsForm.tags.$dirty && uploadDetailsForm.tags.$error.required">Tags are required.</span></small>
									</div><br><br><br>

									<div class="row">
									<center>
										<button type="button" ng-disabled="!(uploadDetailsForm.filename.$dirty && uploadDetailsForm.filename.$valid &&  
									uploadDetailsForm.department.$dirty && uploadDetailsForm.department.$valid &&
									uploadDetailsForm.tags.$dirty && uploadDetailsForm.tags.$valid)" class="btn btn-default btn-flat-note" data-dismiss="modal" ng-click="uploadNotesDetails()"><big>&nbsp&nbspShare&nbsp&nbsp</big></button>
									</center>
								</div>

							</form>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</html>